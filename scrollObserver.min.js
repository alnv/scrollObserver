var scrollObserver=function(a){{var b,c,d=0,e=null,f={},g=function(){var a=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)};return a},h=function(){b=g()},i=function(){setTimeout(function(){b(i),k()},1e3/c.fps)},j=function(){b(j),k()},k=function(){o();for(var a in f)l(f[a])},l=function(a){if(d>a.triggerEnd&&d>a.triggerStart&&!a.past){a.past=!0,a.direction="down",a.yGlobPx=d,a.yPt=100,a.yPx=a.triggerEnd,n(a,"pastBottom");for(var b in a.subScenes)m(a,a.subScenes[b])}if(d<a.triggerEnd&&a.past){a.past=!1,a.direction="up",a.yGlobPx=d,a.yPt=100,a.yPx=a.triggerEnd,n(a,"arrivedBottom");for(var b in a.subScenes)m(a,a.subScenes[b])}if(d>a.triggerStart&&d<a.triggerEnd&&a.yGlobPx!==d){a.yPt=q(a.triggerStart,a.triggerEnd),a.yPx=r(a.triggerStart),a.direction=p(a.yGlobPx),a.yGlobPx=d,n(a,"animate");for(var b in a.subScenes)m(a,a.subScenes[b])}if(d>=a.triggerStart&&!a.arrive){a.arrive=!0,a.direction="down",a.yGlobPx=d,a.yPt=0,a.yPx=0,n(a,"arrivedTop");for(var b in a.subScenes)m(a,a.subScenes[b])}if(d<=a.triggerStart&&a.arrive&&a.yGlobPx!==d){a.arrive=!1,a.direction="up",a.yGlobPx=d,a.yPt=0,a.yPx=0,n(a,"pastTop");for(var b in a.subScenes)m(a,a.subScenes[b])}},m=function(a,b){a.yPt>=b.sceneEnd&&a.yPt>=b.sceneBegin&&!b.past&&(b.past=!0,b.direction="down",b.yGlobPx=d,b.yPt=100,b.yPx=a.height/100*(b.sceneEnd-b.sceneBegin),n(b,"pastBottom")),a.yPt<b.sceneEnd&&b.past&&(b.past=!1,b.direction="up",b.yGlobPx=d,b.yPt=100,b.yPx=a.height/100*(b.sceneEnd-b.sceneBegin),n(b,"arrivedBottom")),a.yPt>b.sceneBegin&&a.yPt<b.sceneEnd&&b.yGlobPx!==a.yPt&&(b.direction=p(b.yGlobPx),b.yGlobPx=d,b.yPx=a.yPx-a.height/100*b.sceneBegin,b.yPt=(a.yPt-b.sceneBegin)/(b.sceneEnd-b.sceneBegin)*100,n(b,"animate")),a.yPt>b.sceneBegin&&!b.arrive&&(b.arrive=!0,b.direction="down",b.yGlobPx=d,b.yPt=0,b.yPx=0,n(b,"arrivedTop")),a.yPt<=b.sceneBegin&&b.arrive&&(b.arrive=!1,b.direction="up",b.yGlobPx=d,b.yPt=0,b.yPx=0,n(b,"pastTop"))},n=function(a,b){null!==a.controller&&c.controllers[a.controller](a,b)},o=function(){d=window.scrollY+y()},p=function(a){return d>a?"down":a>d?"up":void 0},q=function(a,b){return(d-a)/(b-a)*100},r=function(a){return d-a},s=function(){h(),c.fps>0?i():j()},t=function(){document.addEventListener("touchmove",u,!1),document.addEventListener("scroll",v,!1),window.addEventListener("resize",w)},u=function(){o()},v=function(){o()},w=function(){o(),B()},x=function(){a=a||{},c={fps:0,triggerOffset:0,controllers:{}};for(var b in a)c[b]=a[b]},y=function(){return window.innerHeight/100*c.triggerOffset},z=function(){e=null!==e?e:document.querySelectorAll("[data-scene]"),A()},A=function C(a){var b=0,c="data-controller",g=e,h={};for(void 0!==a&&(g=a.querySelectorAll("[data-sub-scene]"));b<g.length;){var i=g[b];void 0!==a&&(c="data-sub-controller");var j=i.getAttribute(c)||null,k=i.offsetTop,l=i.offsetHeight+i.offsetTop;h[b]={index:b,triggerStart:k,triggerEnd:l,controller:j,height:l-k,past:!1,arrive:!0,direction:"down",yGlobPx:d,yPx:d-k,yPt:(d-k)/(l-k)*100},void 0===a?h[b].subScenes=C(i):(h[b].sceneBegin=parseInt(i.getAttribute("data-scene-begin"))||0,h[b].sceneEnd=parseInt(i.getAttribute("data-scene-end"))||100),b++}return void 0!==a?h:void(f=h)},B=function D(a,b){var c,d,g,h,i=e,j=0;for(h=void 0===a?f:a,void 0!==a&&(i=e[b].querySelectorAll("[data-sub-scene]"));j<i.length;)c=i[j],d=c.offsetTop,g=c.offsetHeight+c.offsetTop,h[j].triggerStart=d,h[j].triggerEnd=g,h[j].height=g-d,void 0===a&&D(h[j].subScenes,j),j++};!function(){x(),o(),z(),t(),s()}()}};